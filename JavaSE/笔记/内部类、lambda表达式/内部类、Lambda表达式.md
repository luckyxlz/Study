# 内部类、Lambda表达式

## 内部类

#### 简介：

以前我们定义的类都是一个独立的整体，内部类即在一个类中又定义一个类

#### 分类：

内部类按定义的位置来分为：

- **成员内部内**，类定义在了成员位置 (类中方法外称为成员位置)
- **局部内部类**，类定义在方法内





### 成员内部类

#### 定义语法

- 成员内部类：定义在类中方法外的类

**定义格式**

```java
class 外部类{
    // 成员变量
    // 成员方法
    class 内部类{
        // 成员变量
        // 成员方法
    }
}
```

#### 使用场景

在描述事物时，若一个事物内部还包含其他事物，就可以使用内部类这种结构。

#### 使用内部类

内部类可以直接访问外部类的成员，包括私有成员。

创建内部类对象格式：

```java
外部类名.内部类名 对象名 = new 外部类型().new 内部类型();
```

#### 内外类属性重名问题

合理使用this指向对象





### 局部内部类

#### 定义语法

- **局部内部类** ：定义在方法中的类。

**定义格式**

```java
class 外部类名 {
    数据类型 变量名;
    
    修饰符 返回值类型 方法名(参数列表) {
        // …
        class 内部类 {
            // 成员变量
            // 成员方法
        }
    }
}
```

> 使用方式: 在定义好局部内部类后,直接就创建对象

#### 使用局部内部类

内部类可以直接访问外部类的成员，包括私有成员。





### 匿名内部类

#### 简介

我们在实现接口时必须定义一个类重写其方法，最终创建子类对象调用实现的方法；这一切的过程似乎我们只在乎最后一个步骤，即**创建子类对象调用重写的方法**；

可整个过程却分为如下几步：

1）定义子类

2）重写接口的方法

3）创建子类，最终调用重写的方法

我们的目的，最终只是为了调用方法，那么能不能简化一下，把以上三步合成一步呢？匿名内部类就是做这样的快捷方式。

#### 匿名内部类的本质

1. 定义一个没有名字的内部类
2. 这个类实现了Chili接口
3. 创建了这个没有名字的类的对象

上述代码类似于帮我们定义了一个类（匿名的），这个类重写了接口的抽象方法，然后为这个匿名的类创建了一个对象，用的是接口来接收（这里使用到了多态）；