# 面对对象的一些基本概念

### JVM虚拟机

回顾JVM内存，JVM总共分为5大内存区域，**寄存器**、**本地方法栈**、**方法区**、**栈内存（虚拟机栈）**、**堆内存**；和我们程序员有关的为方法区、栈内存、堆内存；

- **方法区**：存储类的信息（有多少变量、方法、是什么修饰符修饰的等）、常量信息、静态变量等信息
- **栈内存（VM栈）**：方法调用时进栈内存执行，也就是方法运行时消耗的内存；
- **堆内存**：存储类的实例信息，只要是new出来的信息都存在堆内存



- new这个类的时候，JVM去方法区找有没有这个class，没有就加载到方法区，属性方法这些都是在方法区class中的；JVM加载完后，就根据这个模板在堆中创建对象给属性赋默认值，然后再执行赋值语句给对象赋值；
- 对象调用方法时，根据对象中方法标记（地址值），去类中寻找方法信息。这样哪怕是多个对象，方法信息只保存一份，节约内存空间。







### 局部变量与成员变量

**成员变量**：
1）成员变量定义在类中，在整个类中都可以被访问。
2）成员变量分为类成员变量和实例成员变量，实例变量存在于对象所在的堆内存中。
3）成员变量有默认初始化值。
4）成员变量的权限修饰符可以根据需要，选择任意一个

**局部变量**：
1）局部变量只定义在局部范围内，如：方法内，代码块内等。
2）局部变量存在于栈内存中，当方法弹栈（执行完毕）后，局部变量销毁；
3）局部变量没有默认初始化值，使用前必须手动赋值；
4）局部变量声明时不指定权限修饰符；





### 值传递与引用传递

- 值传递：（参数类型是基本数据类型）：方法调用时，实参把它的值传递给对应的形参，形参只是用实参的值初始化自己的存储单元内容，是两个不同的存储单元，所以方法执行中形参值的改变不影响实参的值。

- 引用传递：(参数类型是引用数据类型参数)：也称为传地址。方法调用时，实参是对象（或数组），这时实参与形参指向同一个地址，在方法执行中，对形参的操作实际上就是对实参的操作，这个结果在方法结束后被保留了下来，所以方法执行中形参的改变将会影响实参。


> 在Java中，除了基本数据类型之外的数据类型都是引用数据类型，都是通过new在堆内存开辟空间；





### 匿名对象

顾名思义，匿名就是没有名字的对象，在创建对象时，只通过new的动作在堆内存开辟空间，却没有把堆内存空间的地址值赋值给栈内存的某个变量用以存储；

使用场景：

- 如果对一个对象只需要进行一次方法调用，那么就可以使用匿名对象。
- 我们经常将匿名对象作为实参传递给一个方法调用。







### 封装

#### 简介：

封装是面向对象的三大特征之一，面向对象编程语言是对客观世界的模拟，客观世界里成员变量都是隐藏在对象内部的，外界无法直接操作和修改。封装可以被认为是一个保护屏障，防止该类的代码和数据被其他类随意访问。要访问该类的数据，必须通过指定的方式。适当的封装可以让代码更容易理解与维护，也加强了代码的安全性

> 经过封装后，属性再也不是直接暴露给外部了，我们可以在外部操作属性之前加以控制；
>








### 构造方法

#### 简介

构造方法也叫构造器，顾名思义就是用来构造对象的；当一个对象被创建时候，构造方法用来初始化该对象，给对象的成员变量赋初始值。

> tips：无论你是否自定义构造方法，所有的类都有构造方法，因为Java自动提供了一个无参数构造方法，**一旦自己定义了构造方法，Java自动提供的默认无参数构造方法就会失效**。

> **构造方法注意事项：**
>
> 1. 如果你不提供构造方法，系统会给出无参数构造方法。
> 2. 如果你提供了构造方法，系统将不再提供无参数构造方法。
> 3. 构造方法是可以重载的，既可以定义参数，也可以不定义参数



#### 标准JavaBean

`JavaBean` 是 Java语言编写类的一种标准规范。符合 `JavaBean` 的类，要求类必须是和公共的，并且具有无参数的构造方法，提供用来操作成员变量的 `set` 和 `get` 方法，采用private修饰成员变量。

```java
public class ClassName{
    //成员变量
    //构造方法
    //无参构造方法【必须】
    //有参构造方法【建议】
    //成员方法  
    //getXxx()
    //setXxx()
}
```







### 包

#### 简介及应用背景

所有的类都在一个目录下（根目录），随着项目的类越来越，我们的项目会变得难以维护；包（package）类似于我们的文件夹，当文件多了，我们可以创建多个文件夹对文件进行归类，包则是对Java源代码进行归类；

> - 包的名称一般为公司倒写域名，例如com.alibaba、com.baidu等，“.”代表分割，com.lucky实际创建了一个二级目录；
>
> - 1）包对应于文件系统的目录，package语句中，用 “.” 来指明包(目录)的层次；
>
>   2）包通常用小写单词，类名首字母通常大写

#### import导入包

为使用定义在不同包中的Java类，需用import语句来引入指定包层次下所需要的类或全部类(.*)。import语句告诉编译器到哪里去寻找类







### Static关键字

#### 简介

`static` 关键字它可以用来修饰的**成员变量**和**成员方法**，**被修饰的成员是属于类的**，而不是单单是属于某个对象的。被static修饰的成员由该类的所有实例（对象）共享；

#### 静态变量

当 `static` 修饰成员变量时，该变量称为**类变量**。该类的每个对象都共享同一个类变量的值。任何对象都可以更改该类变量的值，但也可以在不创建该类的对象的情况下对类变量进行操作，因为该变量属于类，而不是某个对象。

> 应用于多线程安全

#### 静态方法

当 `static` 修饰成员方法时，该方法称为类方法。静态方法在声明中有 static ，建议使用类名来调用，而不需要创建类的对象。调用方式非常简单。

> - 静态方法调用的注意事项：
>   - 静态方法可以直接访问类变量（被static修饰的变量）和静态方法。（静态方法能够访问静态资源）
>   - 静态方法不能直接访问普通成员变量或成员方法。反之，成员方法可以直接访问类变量或静态方法。
>   - 静态方法中，不能使用this关键字。
> - 静态方法只能访问静态成员。

`static` 修饰的内容：

- 是随着类的加载而加载的，且只加载一次。
- 存储于一块固定的内存区域（静态区），所以，可以直接被类名调用。
- 它优先于对象存在，所以，可以被所有对象共享。

#### 静态代码块

- 静态代码块：定义在成员位置，使用static修饰的代码块{ }。
  - 位置：类中方法外。
  - 执行：随着类的加载执行，而执行且执行一次